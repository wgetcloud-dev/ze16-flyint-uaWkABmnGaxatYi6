
## 1\.用户


Linux下有两种用户：超级用户(root)和普通用户；



```
超级用户：可以再linux系统下做任何事情，不受限制
普通用户：在linux下做有限的事情
超级用户的命令提示符是"#"，普通用户的命令提示符是"$"

```

超级用户：


![](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003101312604-746328934.png)


普通用户：


![](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003101439430-1888711035.png)


## 2\.用户切换


**用户间切换：**



```
su + 用户名 //可用exit回退到原用户

```

1）普通用户切换超级用户（需要输入root用户密码）


![](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003101719036-1147179136.png)


2）超级用户切换到普通用户（不需要输入普通用户密码）


![image](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003102913530-513183870.png)


**普通用户切换超级用户：**



```
su - //也可用exit回退到原用户

```

![](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003101832186-1619567335.png)


## 3\.创建和删除普通用户


**创建普通用户**



```
useradd+用户名（创建）
passwd+用户名（设置密码）

```

![image](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003104155783-121671300.png)


**删除普通用户**



```
userdel -r +用户名

```

![image](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003104251587-322498598.png)


**查看家目录下的用户**



```
ls /home

```

![image](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003104355974-1328361334.png)


## 4\.权限管理


**什么是权限**



```
权限=用户+事物属性(rwx)
r:可读  w:可写  x:可执行

```

**文件访问者类型（用户）：**



```
文件和文件目录的所有者：u---User（拥有者）
文件和文件目录的所有者所在的组的用户：g---Group（所属组）
其它用户：o---Others （其他）

```

**文件类型和访问权限（事物属性）：**


![image](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003105136457-1907425544.png)


**文件类型：**



```
d：文件夹
-：普通文件
l：软链接（类似Windows的快捷方式）
b：块设备文件（例如硬盘、光驱等）
p：管道文件
c：字符设备文件（例如屏幕等串口设备）
s：套接口文件

```

**基本权限：**



```
读（r）：Read对文件而言，具有读取文件内容的权限；对目录来说，具有浏览该目录信息的权限
写（w）：Write对文件而言，具有修改文件内容的权限；对目录来说具有删除移动目录内文件的权限
执行（x）：execute对文件而言，具有执行文件的权限；对目录来说，具有进入目录的权限
“-”表示不具有该项权限

```

## 5\.文件权限的设置方法


**1）chmod**


**功能：修改用户对某一文件的权限**



```
(1)chmod 角色 +/- 权限 文件

```

![image](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003110858348-221226369.png)



```
(2)chmod 8进制(u) 8进制(g) 8进制(o) file

```

rwx:111(二进制) \-\-\>7(八进制)
rw\-:110(二进制) \-\-\>6(八进制)
r\-\-:100(二进制) \-\-\>4(八进制)
\-\-\-:000(二进制) \-\-\>0(八进制)


![image](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003111322697-935035399.png)


**2\)chown**



```
功能：修改文件的拥有者
格式：chown [参数] 用户名 文件名

```

![image](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003115422937-1052829337.png)


**3\)chgrp**



```
功能：修改文件或目录的所属组
格式：chgrp [参数] 用户组名 文件名

```

![image](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003115711102-1655134600.png)


## 6\.权限掩码


对于新建的文件和目录我们会发现：目录的默认权限是775，文件的默认权限的664，为什么呢？


![image](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003120149193-1610831603.png)


起始时，目录默认权限的777，文件默认权限的666，由于存在权限掩码，使得最终权限和起始不同



```
最终权限=起始权限 &（~权限掩码）

```

![image](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003120917193-405243675.png)


权限掩码的查看：umask


![image](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003120312899-1646002921.png)


修改权限掩码为0000：umask 0000


![image](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003120350183-1192927452.png)


此时我们再次创建新的目录和文件


![image](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003120541755-1936161412.png)


通过上图我们可以看到新目录和文件的权限发生了改变


## 7\.粘滞位


思考一下接下来的代码


![image](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003125340522-1908580399.png)


我们可以看到，这个文件的拥有者和所属组均是root，而用户qz属于others，只有读权限，我们只能读取文件而不能修改文件内容，但是我们却可以将该文件给删掉，这是为什么呢？


**这是因为这个文件所处的文件夹的权限本身就属于我们，有w权限，即可以删除**


![image](https://img2024.cnblogs.com/blog/3246233/202410/3246233-20241003125707224-2057376501.png)


这里就要引出一个概念：粘滞位 （chmod o\+t file)


当一个目录被设置为粘滞位，则该目录只能由



```
1、超级管理员删除
2、该目录的所有者删除
3、该文件夹的所有者删除

```

  * [1\.用户](#tid-fGsebT)
* [2\.用户切换](#tid-YdaSFx)
* [3\.创建和删除普通用户](#tid-XDrfGH)
* [4\.权限管理](#tid-KmGaZz)
* [5\.文件权限的设置方法](#tid-ks3aCy)
* [6\.权限掩码](#tid-XnsdWh)
* [7\.粘滞位](#tid-HPXx5T):[西部世界官网](https://tianchuang88.com)

   ![](https://github.com/cnblogs_com/blogs/832104/galleries/2424311/t_241003082809_20240928224755.png)    - **本文作者：** [遥想公瑾当年](https://github.com)
 - **本文链接：** [https://github.com/sunnyhengheng\-cn/p/18445607](https://github.com)
 - **关于博主：** 评论和私信会在第一时间回复。或者[直接私信](https://github.com)我。
 - **版权声明：** 本博客所有文章除特别声明外，均采用 [BY\-NC\-SA](https://github.com "BY-NC-SA") 许可协议。转载请注明出处！
 - **声援博主：** 如果您觉得文章对您有帮助，可以点击文章右下角**【[推荐](javascript:void(0);)】**一下。
     
